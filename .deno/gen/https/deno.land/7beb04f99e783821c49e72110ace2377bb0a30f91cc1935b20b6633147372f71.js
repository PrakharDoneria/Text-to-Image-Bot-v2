const SECRET_HEADER = "X-Telegram-Bot-Api-Secret-Token";
const SECRET_HEADER_LOWERCASE = SECRET_HEADER.toLowerCase();
const WRONG_TOKEN_ERROR = "secret token is wrong";
const ok = ()=>new Response(null, {
        status: 200
    });
const okJson = (json)=>new Response(json, {
        status: 200,
        headers: {
            "Content-Type": "application/json"
        }
    });
const unauthorized = ()=>new Response('"unauthorized"', {
        status: 401,
        statusText: WRONG_TOKEN_ERROR
    });
/** AWS lambda serverless functions */ const awsLambda = (event, _context, callback)=>({
        update: JSON.parse(event.body ?? "{}"),
        header: event.headers[SECRET_HEADER],
        end: ()=>callback(null, {
                statusCode: 200
            }),
        respond: (json)=>callback(null, {
                statusCode: 200,
                headers: {
                    "Content-Type": "application/json"
                },
                body: json
            }),
        unauthorized: ()=>callback(null, {
                statusCode: 401
            })
    });
/** AWS lambda async/await serverless functions */ const awsLambdaAsync = (event, _context)=>{
    // deno-lint-ignore no-explicit-any
    let resolveResponse;
    return {
        update: JSON.parse(event.body ?? "{}"),
        header: event.headers[SECRET_HEADER],
        end: ()=>resolveResponse({
                statusCode: 200
            }),
        respond: (json)=>resolveResponse({
                statusCode: 200,
                headers: {
                    "Content-Type": "application/json"
                },
                body: json
            }),
        unauthorized: ()=>resolveResponse({
                statusCode: 401
            }),
        handlerReturn: new Promise((resolve)=>{
            resolveResponse = resolve;
        })
    };
};
/** Azure Functions */ const azure = (request, context)=>({
        update: Promise.resolve(request.body),
        header: context.res?.headers?.[SECRET_HEADER],
        end: ()=>context.res = {
                status: 200,
                body: ""
            },
        respond: (json)=>{
            context.res?.set?.("Content-Type", "application/json");
            context.res?.send?.(json);
        },
        unauthorized: ()=>{
            context.res?.send?.(401, WRONG_TOKEN_ERROR);
        }
    });
/** Bun.serve */ const bun = (request)=>{
    let resolveResponse;
    return {
        update: request.json(),
        header: request.headers.get(SECRET_HEADER) || undefined,
        end: ()=>{
            resolveResponse(ok());
        },
        respond: (json)=>{
            resolveResponse(okJson(json));
        },
        unauthorized: ()=>{
            resolveResponse(unauthorized());
        }
    };
};
/** Native CloudFlare workers (service worker) */ const cloudflare = (event)=>{
    let resolveResponse;
    event.respondWith(new Promise((resolve)=>{
        resolveResponse = resolve;
    }));
    return {
        update: event.request.json(),
        header: event.request.headers.get(SECRET_HEADER) || undefined,
        end: ()=>{
            resolveResponse(ok());
        },
        respond: (json)=>{
            resolveResponse(okJson(json));
        },
        unauthorized: ()=>{
            resolveResponse(unauthorized());
        }
    };
};
/** Native CloudFlare workers (module worker) */ const cloudflareModule = (request)=>{
    let resolveResponse;
    return {
        update: request.json(),
        header: request.headers.get(SECRET_HEADER) || undefined,
        end: ()=>{
            resolveResponse(ok());
        },
        respond: (json)=>{
            resolveResponse(okJson(json));
        },
        unauthorized: ()=>{
            resolveResponse(unauthorized());
        },
        handlerReturn: new Promise((resolve)=>{
            resolveResponse = resolve;
        })
    };
};
/** express web framework */ const express = (req, res)=>({
        update: Promise.resolve(req.body),
        header: req.header(SECRET_HEADER),
        end: ()=>res.end(),
        respond: (json)=>{
            res.set("Content-Type", "application/json");
            res.send(json);
        },
        unauthorized: ()=>{
            res.status(401).send(WRONG_TOKEN_ERROR);
        }
    });
/** fastify web framework */ const fastify = (request, reply)=>({
        update: Promise.resolve(request.body),
        header: request.headers[SECRET_HEADER_LOWERCASE],
        end: ()=>reply.status(200).send(),
        respond: (json)=>reply.headers({
                "Content-Type": "application/json"
            }).send(json),
        unauthorized: ()=>reply.code(401).send(WRONG_TOKEN_ERROR)
    });
/** hono web framework */ const hono = (c)=>{
    let resolveResponse;
    return {
        update: c.req.json(),
        header: c.req.header(SECRET_HEADER),
        end: ()=>{
            resolveResponse(c.body(null));
        },
        respond: (json)=>{
            resolveResponse(c.json(json));
        },
        unauthorized: ()=>{
            c.status(401);
            resolveResponse(c.body(null));
        },
        handlerReturn: new Promise((resolve)=>{
            resolveResponse = resolve;
        })
    };
};
/** Node.js native 'http' and 'https' modules */ const http = (req, res)=>{
    const secretHeaderFromRequest = req.headers[SECRET_HEADER_LOWERCASE];
    return {
        update: new Promise((resolve, reject)=>{
            const chunks = [];
            req.on("data", (chunk)=>chunks.push(chunk)).once("end", ()=>{
                // @ts-ignore `Buffer` is Node-only
                const raw = Buffer.concat(chunks).toString("utf-8");
                resolve(JSON.parse(raw));
            }).once("error", reject);
        }),
        header: Array.isArray(secretHeaderFromRequest) ? secretHeaderFromRequest[0] : secretHeaderFromRequest,
        end: ()=>res.end(),
        respond: (json)=>res.writeHead(200, {
                "Content-Type": "application/json"
            }).end(json),
        unauthorized: ()=>res.writeHead(401).end(WRONG_TOKEN_ERROR)
    };
};
/** koa web framework */ const koa = (ctx)=>({
        update: Promise.resolve(ctx.request.body),
        header: ctx.get(SECRET_HEADER) || undefined,
        end: ()=>{
            ctx.body = "";
        },
        respond: (json)=>{
            ctx.set("Content-Type", "application/json");
            ctx.response.body = json;
        },
        unauthorized: ()=>{
            ctx.status = 401;
        }
    });
/** Next.js Serverless Functions */ const nextJs = (request, response)=>({
        update: Promise.resolve(request.body),
        header: request.headers[SECRET_HEADER_LOWERCASE],
        end: ()=>response.end(),
        respond: (json)=>response.status(200).json(json),
        unauthorized: ()=>response.status(401).send(WRONG_TOKEN_ERROR)
    });
/** nhttp web framework */ const nhttp = (rev)=>({
        update: Promise.resolve(rev.body),
        header: rev.headers.get(SECRET_HEADER) || undefined,
        end: ()=>rev.response.sendStatus(200),
        respond: (json)=>rev.response.status(200).send(json),
        unauthorized: ()=>rev.response.status(401).send(WRONG_TOKEN_ERROR)
    });
/** oak web framework */ const oak = (ctx)=>({
        update: ctx.request.body.json(),
        header: ctx.request.headers.get(SECRET_HEADER) || undefined,
        end: ()=>{
            ctx.response.status = 200;
        },
        respond: (json)=>{
            ctx.response.type = "json";
            ctx.response.body = json;
        },
        unauthorized: ()=>{
            ctx.response.status = 401;
        }
    });
/** Deno.serve */ const serveHttp = (requestEvent)=>({
        update: requestEvent.request.json(),
        header: requestEvent.request.headers.get(SECRET_HEADER) || undefined,
        end: ()=>requestEvent.respondWith(ok()),
        respond: (json)=>requestEvent.respondWith(okJson(json)),
        unauthorized: ()=>requestEvent.respondWith(unauthorized())
    });
/** std/http web server */ const stdHttp = (req)=>{
    let resolveResponse;
    return {
        update: req.json(),
        header: req.headers.get(SECRET_HEADER) || undefined,
        end: ()=>{
            if (resolveResponse) resolveResponse(ok());
        },
        respond: (json)=>{
            if (resolveResponse) resolveResponse(okJson(json));
        },
        unauthorized: ()=>{
            if (resolveResponse) resolveResponse(unauthorized());
        },
        handlerReturn: new Promise((resolve)=>{
            resolveResponse = resolve;
        })
    };
};
/** Sveltekit Serverless Functions */ const sveltekit = ({ request  })=>{
    let resolveResponse;
    return {
        update: Promise.resolve(request.json()),
        header: request.headers.get(SECRET_HEADER) || undefined,
        end: ()=>{
            if (resolveResponse) resolveResponse(ok());
        },
        respond: (json)=>{
            if (resolveResponse) resolveResponse(okJson(json));
        },
        unauthorized: ()=>{
            if (resolveResponse) resolveResponse(unauthorized());
        },
        handlerReturn: new Promise((resolve)=>{
            resolveResponse = resolve;
        })
    };
};
/** worktop Cloudflare workers framework */ const worktop = (req, res)=>({
        update: Promise.resolve(req.json()),
        header: req.headers.get(SECRET_HEADER) ?? undefined,
        end: ()=>res.end(null),
        respond: (json)=>res.send(200, json),
        unauthorized: ()=>res.send(401, WRONG_TOKEN_ERROR)
    });
// Please open a pull request if you want to add another adapter
export const adapters = {
    "aws-lambda": awsLambda,
    "aws-lambda-async": awsLambdaAsync,
    azure,
    bun,
    cloudflare,
    "cloudflare-mod": cloudflareModule,
    express,
    fastify,
    hono,
    http,
    https: http,
    koa,
    "next-js": nextJs,
    nhttp,
    oak,
    serveHttp,
    "std/http": stdHttp,
    sveltekit,
    worktop
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvZ3JhbW15QHYxLjI3LjAvY29udmVuaWVuY2UvZnJhbWV3b3Jrcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIFVwZGF0ZSB9IGZyb20gXCIuLi90eXBlcy50c1wiO1xuXG5jb25zdCBTRUNSRVRfSEVBREVSID0gXCJYLVRlbGVncmFtLUJvdC1BcGktU2VjcmV0LVRva2VuXCI7XG5jb25zdCBTRUNSRVRfSEVBREVSX0xPV0VSQ0FTRSA9IFNFQ1JFVF9IRUFERVIudG9Mb3dlckNhc2UoKTtcbmNvbnN0IFdST05HX1RPS0VOX0VSUk9SID0gXCJzZWNyZXQgdG9rZW4gaXMgd3JvbmdcIjtcblxuY29uc3Qgb2sgPSAoKSA9PiBuZXcgUmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IDIwMCB9KTtcbmNvbnN0IG9rSnNvbiA9IChqc29uOiBzdHJpbmcpID0+XG4gICAgbmV3IFJlc3BvbnNlKGpzb24sIHtcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICB9KTtcbmNvbnN0IHVuYXV0aG9yaXplZCA9ICgpID0+XG4gICAgbmV3IFJlc3BvbnNlKCdcInVuYXV0aG9yaXplZFwiJywge1xuICAgICAgICBzdGF0dXM6IDQwMSxcbiAgICAgICAgc3RhdHVzVGV4dDogV1JPTkdfVE9LRU5fRVJST1IsXG4gICAgfSk7XG5cbi8qKlxuICogQWJzdHJhY3Rpb24gb3ZlciBhIHJlcXVlc3QtcmVzcG9uc2UgY3ljbGUsIHByb3ZpZGluZyBhY2Nlc3MgdG8gdGhlIHVwZGF0ZSwgYXNcbiAqIHdlbGwgYXMgYSBtZWNoYW5pc20gZm9yIHJlc3BvbmRpbmcgdG8gdGhlIHJlcXVlc3QgYW5kIHRvIGVuZCBpdC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXFSZXNIYW5kbGVyPFQgPSB2b2lkPiB7XG4gICAgLyoqXG4gICAgICogVGhlIHVwZGF0ZSBvYmplY3Qgc2VudCBmcm9tIFRlbGVncmFtLCB1c3VhbGx5IHJlc29sdmVzIHRoZSByZXF1ZXN0J3MgSlNPTlxuICAgICAqIGJvZHlcbiAgICAgKi9cbiAgICB1cGRhdGU6IFByb21pc2U8VXBkYXRlPjtcbiAgICAvKipcbiAgICAgKiBYLVRlbGVncmFtLUJvdC1BcGktU2VjcmV0LVRva2VuIGhlYWRlciBvZiB0aGUgcmVxdWVzdCwgb3IgdW5kZWZpbmVkIGlmXG4gICAgICogbm90IHByZXNlbnRcbiAgICAgKi9cbiAgICBoZWFkZXI/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogRW5kcyB0aGUgcmVxdWVzdCBpbW1lZGlhdGVseSB3aXRob3V0IGJvZHksIGNhbGxlZCBhZnRlciBldmVyeSByZXF1ZXN0XG4gICAgICogdW5sZXNzIGEgd2ViaG9vayByZXBseSB3YXMgcGVyZm9ybWVkXG4gICAgICovXG4gICAgZW5kPzogKCkgPT4gdm9pZDtcbiAgICAvKipcbiAgICAgKiBTZW5kcyB0aGUgc3BlY2lmaWVkIEpTT04gYXMgYSBwYXlsb2FkIGluIHRoZSBib2R5LCB1c2VkIGZvciB3ZWJob29rXG4gICAgICogcmVwbGllc1xuICAgICAqL1xuICAgIHJlc3BvbmQ6IChqc29uOiBzdHJpbmcpID0+IHVua25vd24gfCBQcm9taXNlPHVua25vd24+O1xuICAgIC8qKlxuICAgICAqIFJlc3BvbmRzIHRoYXQgdGhlIHJlcXVlc3QgaXMgdW5hdXRob3JpemVkIGR1ZSB0byBtaXNtYXRjaGluZ1xuICAgICAqIFgtVGVsZWdyYW0tQm90LUFwaS1TZWNyZXQtVG9rZW4gaGVhZGVyc1xuICAgICAqL1xuICAgIHVuYXV0aG9yaXplZDogKCkgPT4gdW5rbm93biB8IFByb21pc2U8dW5rbm93bj47XG4gICAgLyoqXG4gICAgICogU29tZSBmcmFtZXdvcmtzIChlLmcuIERlbm8ncyBzdGQvaHR0cCBgbGlzdGVuQW5kU2VydmVgKSBhc3N1bWUgdGhhdFxuICAgICAqIGhhbmRsZXIgcmV0dXJucyBzb21ldGhpbmdcbiAgICAgKi9cbiAgICBoYW5kbGVyUmV0dXJuPzogUHJvbWlzZTxUPjtcbn1cblxuLyoqXG4gKiBNaWRkbGV3YXJlIGZvciBhIHdlYiBmcmFtZXdvcmsuIENyZWF0ZXMgYSByZXF1ZXN0LXJlc3BvbnNlIGhhbmRsZXIgZm9yIGFcbiAqIHJlcXVlc3QuIFRoZSBoYW5kbGVyIHdpbGwgYmUgdXNlZCB0byBpbnRlZ3JhdGUgd2l0aCB0aGUgY29tcGF0aWJsZSBmcmFtZXdvcmsuXG4gKi9cbi8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG5leHBvcnQgdHlwZSBGcmFtZXdvcmtBZGFwdGVyID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBSZXFSZXNIYW5kbGVyPGFueT47XG5cbmV4cG9ydCB0eXBlIExhbWJkYUFkYXB0ZXIgPSAoXG4gICAgZXZlbnQ6IHtcbiAgICAgICAgYm9keT86IHN0cmluZztcbiAgICAgICAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgdW5kZWZpbmVkPjtcbiAgICB9LFxuICAgIF9jb250ZXh0OiB1bmtub3duLFxuICAgIGNhbGxiYWNrOiAoXG4gICAgICAgIGFyZzA6IHVua25vd24sXG4gICAgICAgIGFyZzE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICkgPT4gUHJvbWlzZTx1bmtub3duPixcbikgPT4gUmVxUmVzSGFuZGxlcjtcblxuZXhwb3J0IHR5cGUgTGFtYmRhQXN5bmNBZGFwdGVyID0gKFxuICAgIGV2ZW50OiB7XG4gICAgICAgIGJvZHk/OiBzdHJpbmc7XG4gICAgICAgIGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD47XG4gICAgfSxcbiAgICBfY29udGV4dDogdW5rbm93bixcbikgPT4gUmVxUmVzSGFuZGxlcjtcblxuZXhwb3J0IHR5cGUgQXp1cmVBZGFwdGVyID0gKHJlcXVlc3Q6IHtcbiAgICBib2R5PzogdW5rbm93bjtcbn0sIGNvbnRleHQ6IHtcbiAgICByZXM/OiB7XG4gICAgICAgIHN0YXR1czogbnVtYmVyO1xuICAgICAgICBib2R5OiBzdHJpbmc7XG4gICAgICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAgICAgICBzZXQ/OiAoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgICAgIHNlbmQ/OiB7XG4gICAgICAgICAgICAoYm9keTogdW5rbm93bik6IHZvaWQ7XG4gICAgICAgICAgICAoc3RhdHVzOiBudW1iZXIsIGJvZHk6IHVua25vd24pOiB2b2lkO1xuICAgICAgICB9O1xuICAgIH07XG59KSA9PiBSZXFSZXNIYW5kbGVyO1xuXG5leHBvcnQgdHlwZSBCdW5BZGFwdGVyID0gKHJlcXVlc3Q6IHtcbiAgICBoZWFkZXJzOiBIZWFkZXJzO1xuICAgIGpzb246ICgpID0+IFByb21pc2U8VXBkYXRlPjtcbn0pID0+IFJlcVJlc0hhbmRsZXI8UmVzcG9uc2U+O1xuXG5leHBvcnQgdHlwZSBDbG91ZGZsYXJlQWRhcHRlciA9IChldmVudDoge1xuICAgIHJlcXVlc3Q6IFJlcXVlc3Q7XG4gICAgcmVzcG9uZFdpdGg6IChyZXNwb25zZTogUHJvbWlzZTxSZXNwb25zZT4pID0+IHZvaWQ7XG59KSA9PiBSZXFSZXNIYW5kbGVyO1xuXG5leHBvcnQgdHlwZSBDbG91ZGZsYXJlTW9kdWxlQWRhcHRlciA9IChcbiAgICByZXF1ZXN0OiBSZXF1ZXN0LFxuKSA9PiBSZXFSZXNIYW5kbGVyPFJlc3BvbnNlPjtcblxuZXhwb3J0IHR5cGUgRXhwcmVzc0FkYXB0ZXIgPSAocmVxOiB7XG4gICAgYm9keTogVXBkYXRlO1xuICAgIGhlYWRlcjogKGhlYWRlcjogc3RyaW5nKSA9PiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59LCByZXM6IHtcbiAgICBlbmQ6IChjYj86ICgpID0+IHZvaWQpID0+IHR5cGVvZiByZXM7XG4gICAgc2V0OiAoZmllbGQ6IHN0cmluZywgdmFsdWU/OiBzdHJpbmcgfCBzdHJpbmdbXSkgPT4gdHlwZW9mIHJlcztcbiAgICBzZW5kOiAoanNvbjogc3RyaW5nKSA9PiB0eXBlb2YgcmVzO1xuICAgIHN0YXR1czogKGNvZGU6IG51bWJlcikgPT4gdHlwZW9mIHJlcztcbn0pID0+IFJlcVJlc0hhbmRsZXI7XG5cbmV4cG9ydCB0eXBlIEZhc3RpZnlBZGFwdGVyID0gKHJlcXVlc3Q6IHtcbiAgICBib2R5OiB1bmtub3duO1xuICAgIC8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG4gICAgaGVhZGVyczogYW55O1xufSwgcmVwbHk6IHtcbiAgICBzdGF0dXM6IChjb2RlOiBudW1iZXIpID0+IHR5cGVvZiByZXBseTtcbiAgICBoZWFkZXJzOiAoaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPikgPT4gdHlwZW9mIHJlcGx5O1xuICAgIGNvZGU6IChjb2RlOiBudW1iZXIpID0+IHR5cGVvZiByZXBseTtcbiAgICBzZW5kOiB7XG4gICAgICAgICgpOiB0eXBlb2YgcmVwbHk7XG4gICAgICAgIChqc29uOiBzdHJpbmcpOiB0eXBlb2YgcmVwbHk7XG4gICAgfTtcbn0pID0+IFJlcVJlc0hhbmRsZXI7XG5cbmV4cG9ydCB0eXBlIEhvbm9BZGFwdGVyID0gKGM6IHtcbiAgICByZXE6IHtcbiAgICAgICAganNvbjogPFQ+KCkgPT4gUHJvbWlzZTxUPjtcbiAgICAgICAgaGVhZGVyOiAoaGVhZGVyOiBzdHJpbmcpID0+IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIGJvZHk6IChcbiAgICAgICAgZGF0YTogc3RyaW5nIHwgQXJyYXlCdWZmZXIgfCBSZWFkYWJsZVN0cmVhbSB8IG51bGwsXG4gICAgICAgIC8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGFyZz86IGFueSxcbiAgICAgICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHN0cmluZ1tdPixcbiAgICApID0+IFJlc3BvbnNlO1xuICAgIC8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG4gICAgc3RhdHVzOiAoc3RhdHVzOiBhbnkpID0+IHZvaWQ7XG4gICAganNvbjogKGpzb246IHN0cmluZykgPT4gUmVzcG9uc2U7XG59KSA9PiBSZXFSZXNIYW5kbGVyPFJlc3BvbnNlPjtcblxuZXhwb3J0IHR5cGUgSHR0cEFkYXB0ZXIgPSAocmVxOiB7XG4gICAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQ+O1xuICAgIG9uOiAoZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6IChjaHVuazogdW5rbm93bikgPT4gdm9pZCkgPT4gdHlwZW9mIHJlcTtcbiAgICBvbmNlOiAoZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHR5cGVvZiByZXE7XG59LCByZXM6IHtcbiAgICB3cml0ZUhlYWQ6IHtcbiAgICAgICAgKHN0YXR1czogbnVtYmVyKTogdHlwZW9mIHJlcztcbiAgICAgICAgKHN0YXR1czogbnVtYmVyLCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KTogdHlwZW9mIHJlcztcbiAgICB9O1xuICAgIGVuZDogKGpzb24/OiBzdHJpbmcpID0+IHZvaWQ7XG59KSA9PiBSZXFSZXNIYW5kbGVyO1xuXG5leHBvcnQgdHlwZSBLb2FBZGFwdGVyID0gKGN0eDoge1xuICAgIGdldDogKGhlYWRlcjogc3RyaW5nKSA9PiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgc2V0OiAoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgc3RhdHVzOiBudW1iZXI7XG4gICAgYm9keTogc3RyaW5nO1xuICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgYm9keT86IHVua25vd247XG4gICAgfTtcbiAgICByZXNwb25zZToge1xuICAgICAgICBib2R5OiB1bmtub3duO1xuICAgICAgICBzdGF0dXM6IG51bWJlcjtcbiAgICB9O1xufSkgPT4gUmVxUmVzSGFuZGxlcjtcblxuZXhwb3J0IHR5cGUgTmV4dEFkYXB0ZXIgPSAocmVxOiB7XG4gICAgYm9keTogVXBkYXRlO1xuICAgIGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkPjtcbn0sIHJlczoge1xuICAgIGVuZDogKGNiPzogKCkgPT4gdm9pZCkgPT4gdHlwZW9mIHJlcztcbiAgICBzdGF0dXM6IChjb2RlOiBudW1iZXIpID0+IHR5cGVvZiByZXM7XG4gICAgLy8gZGVuby1saW50LWlnbm9yZSBuby1leHBsaWNpdC1hbnlcbiAgICBqc29uOiAoanNvbjogc3RyaW5nKSA9PiBhbnk7XG4gICAgLy8gZGVuby1saW50LWlnbm9yZSBuby1leHBsaWNpdC1hbnlcbiAgICBzZW5kOiAoanNvbjogc3RyaW5nKSA9PiBhbnk7XG59KSA9PiBSZXFSZXNIYW5kbGVyO1xuXG5leHBvcnQgdHlwZSBOSHR0cEFkYXB0ZXIgPSAocmV2OiB7XG4gICAgYm9keTogdW5rbm93bjtcbiAgICBoZWFkZXJzOiB7XG4gICAgICAgIGdldDogKGhlYWRlcjogc3RyaW5nKSA9PiBzdHJpbmcgfCBudWxsO1xuICAgIH07XG4gICAgcmVzcG9uc2U6IHtcbiAgICAgICAgc2VuZFN0YXR1czogKHN0YXR1czogbnVtYmVyKSA9PiB2b2lkO1xuICAgICAgICBzdGF0dXM6IChzdGF0dXM6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgc2VuZDogKGpzb246IHN0cmluZykgPT4gdm9pZDtcbiAgICAgICAgfTtcbiAgICB9O1xufSkgPT4gUmVxUmVzSGFuZGxlcjtcblxuZXhwb3J0IHR5cGUgT2FrQWRhcHRlciA9IChjdHg6IHtcbiAgICByZXF1ZXN0OiB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2U8VXBkYXRlPjtcbiAgICAgICAgfTtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgZ2V0OiAoaGVhZGVyOiBzdHJpbmcpID0+IHN0cmluZyB8IG51bGw7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXNwb25zZToge1xuICAgICAgICBzdGF0dXM6IG51bWJlcjtcbiAgICAgICAgdHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICBib2R5OiB1bmtub3duO1xuICAgIH07XG59KSA9PiBSZXFSZXNIYW5kbGVyO1xuXG5leHBvcnQgdHlwZSBTZXJ2ZUh0dHBBZGFwdGVyID0gKFxuICAgIHJlcXVlc3RFdmVudDoge1xuICAgICAgICByZXF1ZXN0OiBSZXF1ZXN0O1xuICAgICAgICByZXNwb25kV2l0aDogKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4gdm9pZDtcbiAgICB9LFxuKSA9PiBSZXFSZXNIYW5kbGVyO1xuXG5leHBvcnQgdHlwZSBTdGRIdHRwQWRhcHRlciA9IChcbiAgICByZXE6IFJlcXVlc3QsXG4pID0+IFJlcVJlc0hhbmRsZXI8UmVzcG9uc2U+O1xuXG5leHBvcnQgdHlwZSBTdmVsdGVraXRBZGFwdGVyID0gKFxuICAgIHsgcmVxdWVzdCB9OiB7IHJlcXVlc3Q6IFJlcXVlc3QgfSxcbikgPT4gUmVxUmVzSGFuZGxlcjx1bmtub3duPjtcblxuZXhwb3J0IHR5cGUgV29ya3RvcEFkYXB0ZXIgPSAocmVxOiB7XG4gICAganNvbjogKCkgPT4gUHJvbWlzZTxVcGRhdGU+O1xuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgZ2V0OiAoaGVhZGVyOiBzdHJpbmcpID0+IHN0cmluZyB8IG51bGw7XG4gICAgfTtcbn0sIHJlczoge1xuICAgIGVuZDogKGRhdGE6IEJvZHlJbml0IHwgbnVsbCkgPT4gdm9pZDtcbiAgICBzZW5kOiAoc3RhdHVzOiBudW1iZXIsIGpzb246IHN0cmluZykgPT4gdm9pZDtcbn0pID0+IFJlcVJlc0hhbmRsZXI7XG5cbi8qKiBBV1MgbGFtYmRhIHNlcnZlcmxlc3MgZnVuY3Rpb25zICovXG5jb25zdCBhd3NMYW1iZGE6IExhbWJkYUFkYXB0ZXIgPSAoZXZlbnQsIF9jb250ZXh0LCBjYWxsYmFjaykgPT4gKHtcbiAgICB1cGRhdGU6IEpTT04ucGFyc2UoZXZlbnQuYm9keSA/PyBcInt9XCIpLFxuICAgIGhlYWRlcjogZXZlbnQuaGVhZGVyc1tTRUNSRVRfSEVBREVSXSxcbiAgICBlbmQ6ICgpID0+IGNhbGxiYWNrKG51bGwsIHsgc3RhdHVzQ29kZTogMjAwIH0pLFxuICAgIHJlc3BvbmQ6IChqc29uKSA9PlxuICAgICAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICBib2R5OiBqc29uLFxuICAgICAgICB9KSxcbiAgICB1bmF1dGhvcml6ZWQ6ICgpID0+IGNhbGxiYWNrKG51bGwsIHsgc3RhdHVzQ29kZTogNDAxIH0pLFxufSk7XG5cbi8qKiBBV1MgbGFtYmRhIGFzeW5jL2F3YWl0IHNlcnZlcmxlc3MgZnVuY3Rpb25zICovXG5jb25zdCBhd3NMYW1iZGFBc3luYzogTGFtYmRhQXN5bmNBZGFwdGVyID0gKGV2ZW50LCBfY29udGV4dCkgPT4ge1xuICAgIC8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IHJlc29sdmVSZXNwb25zZTogKHJlc3BvbnNlOiBhbnkpID0+IHZvaWQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB1cGRhdGU6IEpTT04ucGFyc2UoZXZlbnQuYm9keSA/PyBcInt9XCIpLFxuICAgICAgICBoZWFkZXI6IGV2ZW50LmhlYWRlcnNbU0VDUkVUX0hFQURFUl0sXG4gICAgICAgIGVuZDogKCkgPT4gcmVzb2x2ZVJlc3BvbnNlKHsgc3RhdHVzQ29kZTogMjAwIH0pLFxuICAgICAgICByZXNwb25kOiAoanNvbikgPT5cbiAgICAgICAgICAgIHJlc29sdmVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBqc29uLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIHVuYXV0aG9yaXplZDogKCkgPT4gcmVzb2x2ZVJlc3BvbnNlKHsgc3RhdHVzQ29kZTogNDAxIH0pLFxuICAgICAgICBoYW5kbGVyUmV0dXJuOiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZVJlc3BvbnNlID0gcmVzb2x2ZTtcbiAgICAgICAgfSksXG4gICAgfTtcbn07XG5cbi8qKiBBenVyZSBGdW5jdGlvbnMgKi9cbmNvbnN0IGF6dXJlOiBBenVyZUFkYXB0ZXIgPSAocmVxdWVzdCwgY29udGV4dCkgPT4gKHtcbiAgICB1cGRhdGU6IFByb21pc2UucmVzb2x2ZShyZXF1ZXN0LmJvZHkgYXMgVXBkYXRlKSxcbiAgICBoZWFkZXI6IGNvbnRleHQucmVzPy5oZWFkZXJzPy5bU0VDUkVUX0hFQURFUl0sXG4gICAgZW5kOiAoKSA9PiAoY29udGV4dC5yZXMgPSB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBib2R5OiBcIlwiLFxuICAgIH0pLFxuICAgIHJlc3BvbmQ6IChqc29uKSA9PiB7XG4gICAgICAgIGNvbnRleHQucmVzPy5zZXQ/LihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICAgIGNvbnRleHQucmVzPy5zZW5kPy4oanNvbik7XG4gICAgfSxcbiAgICB1bmF1dGhvcml6ZWQ6ICgpID0+IHtcbiAgICAgICAgY29udGV4dC5yZXM/LnNlbmQ/Lig0MDEsIFdST05HX1RPS0VOX0VSUk9SKTtcbiAgICB9LFxufSk7XG5cbi8qKiBCdW4uc2VydmUgKi9cbmNvbnN0IGJ1bjogQnVuQWRhcHRlciA9IChyZXF1ZXN0KSA9PiB7XG4gICAgbGV0IHJlc29sdmVSZXNwb25zZTogKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4gdm9pZDtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cGRhdGU6IHJlcXVlc3QuanNvbigpLFxuICAgICAgICBoZWFkZXI6IHJlcXVlc3QuaGVhZGVycy5nZXQoU0VDUkVUX0hFQURFUikgfHwgdW5kZWZpbmVkLFxuICAgICAgICBlbmQ6ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVSZXNwb25zZShvaygpKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uZDogKGpzb24pID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVSZXNwb25zZShva0pzb24oanNvbikpO1xuICAgICAgICB9LFxuICAgICAgICB1bmF1dGhvcml6ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVSZXNwb25zZSh1bmF1dGhvcml6ZWQoKSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5cbi8qKiBOYXRpdmUgQ2xvdWRGbGFyZSB3b3JrZXJzIChzZXJ2aWNlIHdvcmtlcikgKi9cbmNvbnN0IGNsb3VkZmxhcmU6IENsb3VkZmxhcmVBZGFwdGVyID0gKGV2ZW50KSA9PiB7XG4gICAgbGV0IHJlc29sdmVSZXNwb25zZTogKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4gdm9pZDtcbiAgICBldmVudC5yZXNwb25kV2l0aChcbiAgICAgICAgbmV3IFByb21pc2U8UmVzcG9uc2U+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlUmVzcG9uc2UgPSByZXNvbHZlO1xuICAgICAgICB9KSxcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZTogZXZlbnQucmVxdWVzdC5qc29uKCksXG4gICAgICAgIGhlYWRlcjogZXZlbnQucmVxdWVzdC5oZWFkZXJzLmdldChTRUNSRVRfSEVBREVSKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIGVuZDogKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZVJlc3BvbnNlKG9rKCkpO1xuICAgICAgICB9LFxuICAgICAgICByZXNwb25kOiAoanNvbikgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZVJlc3BvbnNlKG9rSnNvbihqc29uKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVuYXV0aG9yaXplZDogKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZVJlc3BvbnNlKHVuYXV0aG9yaXplZCgpKTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcblxuLyoqIE5hdGl2ZSBDbG91ZEZsYXJlIHdvcmtlcnMgKG1vZHVsZSB3b3JrZXIpICovXG5jb25zdCBjbG91ZGZsYXJlTW9kdWxlOiBDbG91ZGZsYXJlTW9kdWxlQWRhcHRlciA9IChyZXF1ZXN0KSA9PiB7XG4gICAgbGV0IHJlc29sdmVSZXNwb25zZTogKHJlczogUmVzcG9uc2UpID0+IHZvaWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlOiByZXF1ZXN0Lmpzb24oKSxcbiAgICAgICAgaGVhZGVyOiByZXF1ZXN0LmhlYWRlcnMuZ2V0KFNFQ1JFVF9IRUFERVIpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgZW5kOiAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlUmVzcG9uc2Uob2soKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3BvbmQ6IChqc29uKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlUmVzcG9uc2Uob2tKc29uKGpzb24pKTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5hdXRob3JpemVkOiAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlUmVzcG9uc2UodW5hdXRob3JpemVkKCkpO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVyUmV0dXJuOiBuZXcgUHJvbWlzZTxSZXNwb25zZT4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVSZXNwb25zZSA9IHJlc29sdmU7XG4gICAgICAgIH0pLFxuICAgIH07XG59O1xuXG4vKiogZXhwcmVzcyB3ZWIgZnJhbWV3b3JrICovXG5jb25zdCBleHByZXNzOiBFeHByZXNzQWRhcHRlciA9IChyZXEsIHJlcykgPT4gKHtcbiAgICB1cGRhdGU6IFByb21pc2UucmVzb2x2ZShyZXEuYm9keSksXG4gICAgaGVhZGVyOiByZXEuaGVhZGVyKFNFQ1JFVF9IRUFERVIpLFxuICAgIGVuZDogKCkgPT4gcmVzLmVuZCgpLFxuICAgIHJlc3BvbmQ6IChqc29uKSA9PiB7XG4gICAgICAgIHJlcy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgICByZXMuc2VuZChqc29uKTtcbiAgICB9LFxuICAgIHVuYXV0aG9yaXplZDogKCkgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZChXUk9OR19UT0tFTl9FUlJPUik7XG4gICAgfSxcbn0pO1xuXG4vKiogZmFzdGlmeSB3ZWIgZnJhbWV3b3JrICovXG5jb25zdCBmYXN0aWZ5OiBGYXN0aWZ5QWRhcHRlciA9IChyZXF1ZXN0LCByZXBseSkgPT4gKHtcbiAgICB1cGRhdGU6IFByb21pc2UucmVzb2x2ZShyZXF1ZXN0LmJvZHkgYXMgVXBkYXRlKSxcbiAgICBoZWFkZXI6IHJlcXVlc3QuaGVhZGVyc1tTRUNSRVRfSEVBREVSX0xPV0VSQ0FTRV0sXG4gICAgZW5kOiAoKSA9PiByZXBseS5zdGF0dXMoMjAwKS5zZW5kKCksXG4gICAgcmVzcG9uZDogKGpzb24pID0+XG4gICAgICAgIHJlcGx5LmhlYWRlcnMoeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9KS5zZW5kKGpzb24pLFxuICAgIHVuYXV0aG9yaXplZDogKCkgPT4gcmVwbHkuY29kZSg0MDEpLnNlbmQoV1JPTkdfVE9LRU5fRVJST1IpLFxufSk7XG5cbi8qKiBob25vIHdlYiBmcmFtZXdvcmsgKi9cbmNvbnN0IGhvbm86IEhvbm9BZGFwdGVyID0gKGMpID0+IHtcbiAgICBsZXQgcmVzb2x2ZVJlc3BvbnNlOiAocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB2b2lkO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZTogYy5yZXEuanNvbigpLFxuICAgICAgICBoZWFkZXI6IGMucmVxLmhlYWRlcihTRUNSRVRfSEVBREVSKSxcbiAgICAgICAgZW5kOiAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlUmVzcG9uc2UoYy5ib2R5KG51bGwpKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uZDogKGpzb24pID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVSZXNwb25zZShjLmpzb24oanNvbikpO1xuICAgICAgICB9LFxuICAgICAgICB1bmF1dGhvcml6ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgIGMuc3RhdHVzKDQwMSk7XG4gICAgICAgICAgICByZXNvbHZlUmVzcG9uc2UoYy5ib2R5KG51bGwpKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlclJldHVybjogbmV3IFByb21pc2U8UmVzcG9uc2U+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlUmVzcG9uc2UgPSByZXNvbHZlO1xuICAgICAgICB9KSxcbiAgICB9O1xufTtcblxuLyoqIE5vZGUuanMgbmF0aXZlICdodHRwJyBhbmQgJ2h0dHBzJyBtb2R1bGVzICovXG5jb25zdCBodHRwOiBIdHRwQWRhcHRlciA9IChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHNlY3JldEhlYWRlckZyb21SZXF1ZXN0ID0gcmVxLmhlYWRlcnNbU0VDUkVUX0hFQURFUl9MT1dFUkNBU0VdO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZTogbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gZGVuby1saW50LWlnbm9yZSBuby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIHR5cGUgQ2h1bmsgPSBhbnk7XG4gICAgICAgICAgICBjb25zdCBjaHVua3M6IENodW5rW10gPSBbXTtcbiAgICAgICAgICAgIHJlcS5vbihcImRhdGFcIiwgKGNodW5rOiBDaHVuaykgPT4gY2h1bmtzLnB1c2goY2h1bmspKVxuICAgICAgICAgICAgICAgIC5vbmNlKFwiZW5kXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBgQnVmZmVyYCBpcyBOb2RlLW9ubHlcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gQnVmZmVyLmNvbmNhdChjaHVua3MpLnRvU3RyaW5nKFwidXRmLThcIik7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZShyYXcpKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbmNlKFwiZXJyb3JcIiwgcmVqZWN0KTtcbiAgICAgICAgfSksXG4gICAgICAgIGhlYWRlcjogQXJyYXkuaXNBcnJheShzZWNyZXRIZWFkZXJGcm9tUmVxdWVzdClcbiAgICAgICAgICAgID8gc2VjcmV0SGVhZGVyRnJvbVJlcXVlc3RbMF1cbiAgICAgICAgICAgIDogc2VjcmV0SGVhZGVyRnJvbVJlcXVlc3QsXG4gICAgICAgIGVuZDogKCkgPT4gcmVzLmVuZCgpLFxuICAgICAgICByZXNwb25kOiAoanNvbikgPT5cbiAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAgIC53cml0ZUhlYWQoMjAwLCB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0pXG4gICAgICAgICAgICAgICAgLmVuZChqc29uKSxcbiAgICAgICAgdW5hdXRob3JpemVkOiAoKSA9PiByZXMud3JpdGVIZWFkKDQwMSkuZW5kKFdST05HX1RPS0VOX0VSUk9SKSxcbiAgICB9O1xufTtcblxuLyoqIGtvYSB3ZWIgZnJhbWV3b3JrICovXG5jb25zdCBrb2E6IEtvYUFkYXB0ZXIgPSAoY3R4KSA9PiAoe1xuICAgIHVwZGF0ZTogUHJvbWlzZS5yZXNvbHZlKGN0eC5yZXF1ZXN0LmJvZHkgYXMgVXBkYXRlKSxcbiAgICBoZWFkZXI6IGN0eC5nZXQoU0VDUkVUX0hFQURFUikgfHwgdW5kZWZpbmVkLFxuICAgIGVuZDogKCkgPT4ge1xuICAgICAgICBjdHguYm9keSA9IFwiXCI7XG4gICAgfSxcbiAgICByZXNwb25kOiAoanNvbikgPT4ge1xuICAgICAgICBjdHguc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgY3R4LnJlc3BvbnNlLmJvZHkgPSBqc29uO1xuICAgIH0sXG4gICAgdW5hdXRob3JpemVkOiAoKSA9PiB7XG4gICAgICAgIGN0eC5zdGF0dXMgPSA0MDE7XG4gICAgfSxcbn0pO1xuXG4vKiogTmV4dC5qcyBTZXJ2ZXJsZXNzIEZ1bmN0aW9ucyAqL1xuY29uc3QgbmV4dEpzOiBOZXh0QWRhcHRlciA9IChyZXF1ZXN0LCByZXNwb25zZSkgPT4gKHtcbiAgICB1cGRhdGU6IFByb21pc2UucmVzb2x2ZShyZXF1ZXN0LmJvZHkpLFxuICAgIGhlYWRlcjogcmVxdWVzdC5oZWFkZXJzW1NFQ1JFVF9IRUFERVJfTE9XRVJDQVNFXSBhcyBzdHJpbmcsXG4gICAgZW5kOiAoKSA9PiByZXNwb25zZS5lbmQoKSxcbiAgICByZXNwb25kOiAoanNvbikgPT4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbihqc29uKSxcbiAgICB1bmF1dGhvcml6ZWQ6ICgpID0+IHJlc3BvbnNlLnN0YXR1cyg0MDEpLnNlbmQoV1JPTkdfVE9LRU5fRVJST1IpLFxufSk7XG5cbi8qKiBuaHR0cCB3ZWIgZnJhbWV3b3JrICovXG5jb25zdCBuaHR0cDogTkh0dHBBZGFwdGVyID0gKHJldikgPT4gKHtcbiAgICB1cGRhdGU6IFByb21pc2UucmVzb2x2ZShyZXYuYm9keSBhcyBVcGRhdGUpLFxuICAgIGhlYWRlcjogcmV2LmhlYWRlcnMuZ2V0KFNFQ1JFVF9IRUFERVIpIHx8IHVuZGVmaW5lZCxcbiAgICBlbmQ6ICgpID0+IHJldi5yZXNwb25zZS5zZW5kU3RhdHVzKDIwMCksXG4gICAgcmVzcG9uZDogKGpzb24pID0+IHJldi5yZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKGpzb24pLFxuICAgIHVuYXV0aG9yaXplZDogKCkgPT4gcmV2LnJlc3BvbnNlLnN0YXR1cyg0MDEpLnNlbmQoV1JPTkdfVE9LRU5fRVJST1IpLFxufSk7XG5cbi8qKiBvYWsgd2ViIGZyYW1ld29yayAqL1xuY29uc3Qgb2FrOiBPYWtBZGFwdGVyID0gKGN0eCkgPT4gKHtcbiAgICB1cGRhdGU6IGN0eC5yZXF1ZXN0LmJvZHkuanNvbigpLFxuICAgIGhlYWRlcjogY3R4LnJlcXVlc3QuaGVhZGVycy5nZXQoU0VDUkVUX0hFQURFUikgfHwgdW5kZWZpbmVkLFxuICAgIGVuZDogKCkgPT4ge1xuICAgICAgICBjdHgucmVzcG9uc2Uuc3RhdHVzID0gMjAwO1xuICAgIH0sXG4gICAgcmVzcG9uZDogKGpzb24pID0+IHtcbiAgICAgICAgY3R4LnJlc3BvbnNlLnR5cGUgPSBcImpzb25cIjtcbiAgICAgICAgY3R4LnJlc3BvbnNlLmJvZHkgPSBqc29uO1xuICAgIH0sXG4gICAgdW5hdXRob3JpemVkOiAoKSA9PiB7XG4gICAgICAgIGN0eC5yZXNwb25zZS5zdGF0dXMgPSA0MDE7XG4gICAgfSxcbn0pO1xuXG4vKiogRGVuby5zZXJ2ZSAqL1xuY29uc3Qgc2VydmVIdHRwOiBTZXJ2ZUh0dHBBZGFwdGVyID0gKHJlcXVlc3RFdmVudCkgPT4gKHtcbiAgICB1cGRhdGU6IHJlcXVlc3RFdmVudC5yZXF1ZXN0Lmpzb24oKSxcbiAgICBoZWFkZXI6IHJlcXVlc3RFdmVudC5yZXF1ZXN0LmhlYWRlcnMuZ2V0KFNFQ1JFVF9IRUFERVIpIHx8IHVuZGVmaW5lZCxcbiAgICBlbmQ6ICgpID0+IHJlcXVlc3RFdmVudC5yZXNwb25kV2l0aChvaygpKSxcbiAgICByZXNwb25kOiAoanNvbikgPT4gcmVxdWVzdEV2ZW50LnJlc3BvbmRXaXRoKG9rSnNvbihqc29uKSksXG4gICAgdW5hdXRob3JpemVkOiAoKSA9PiByZXF1ZXN0RXZlbnQucmVzcG9uZFdpdGgodW5hdXRob3JpemVkKCkpLFxufSk7XG5cbi8qKiBzdGQvaHR0cCB3ZWIgc2VydmVyICovXG5jb25zdCBzdGRIdHRwOiBTdGRIdHRwQWRhcHRlciA9IChyZXEpID0+IHtcbiAgICBsZXQgcmVzb2x2ZVJlc3BvbnNlOiAocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB2b2lkO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZTogcmVxLmpzb24oKSxcbiAgICAgICAgaGVhZGVyOiByZXEuaGVhZGVycy5nZXQoU0VDUkVUX0hFQURFUikgfHwgdW5kZWZpbmVkLFxuICAgICAgICBlbmQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlUmVzcG9uc2UpIHJlc29sdmVSZXNwb25zZShvaygpKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uZDogKGpzb24pID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlUmVzcG9uc2UpIHJlc29sdmVSZXNwb25zZShva0pzb24oanNvbikpO1xuICAgICAgICB9LFxuICAgICAgICB1bmF1dGhvcml6ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlUmVzcG9uc2UpIHJlc29sdmVSZXNwb25zZSh1bmF1dGhvcml6ZWQoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZXJSZXR1cm46IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlUmVzcG9uc2UgPSByZXNvbHZlO1xuICAgICAgICB9KSxcbiAgICB9O1xufTtcblxuLyoqIFN2ZWx0ZWtpdCBTZXJ2ZXJsZXNzIEZ1bmN0aW9ucyAqL1xuY29uc3Qgc3ZlbHRla2l0OiBTdmVsdGVraXRBZGFwdGVyID0gKHsgcmVxdWVzdCB9KSA9PiB7XG4gICAgbGV0IHJlc29sdmVSZXNwb25zZTogKHJlczogUmVzcG9uc2UpID0+IHZvaWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlOiBQcm9taXNlLnJlc29sdmUocmVxdWVzdC5qc29uKCkpLFxuICAgICAgICBoZWFkZXI6IHJlcXVlc3QuaGVhZGVycy5nZXQoU0VDUkVUX0hFQURFUikgfHwgdW5kZWZpbmVkLFxuICAgICAgICBlbmQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlUmVzcG9uc2UpIHJlc29sdmVSZXNwb25zZShvaygpKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uZDogKGpzb24pID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlUmVzcG9uc2UpIHJlc29sdmVSZXNwb25zZShva0pzb24oanNvbikpO1xuICAgICAgICB9LFxuICAgICAgICB1bmF1dGhvcml6ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlUmVzcG9uc2UpIHJlc29sdmVSZXNwb25zZSh1bmF1dGhvcml6ZWQoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZXJSZXR1cm46IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlUmVzcG9uc2UgPSByZXNvbHZlO1xuICAgICAgICB9KSxcbiAgICB9O1xufTtcbi8qKiB3b3JrdG9wIENsb3VkZmxhcmUgd29ya2VycyBmcmFtZXdvcmsgKi9cbmNvbnN0IHdvcmt0b3A6IFdvcmt0b3BBZGFwdGVyID0gKHJlcSwgcmVzKSA9PiAoe1xuICAgIHVwZGF0ZTogUHJvbWlzZS5yZXNvbHZlKHJlcS5qc29uKCkpLFxuICAgIGhlYWRlcjogcmVxLmhlYWRlcnMuZ2V0KFNFQ1JFVF9IRUFERVIpID8/IHVuZGVmaW5lZCxcbiAgICBlbmQ6ICgpID0+IHJlcy5lbmQobnVsbCksXG4gICAgcmVzcG9uZDogKGpzb24pID0+IHJlcy5zZW5kKDIwMCwganNvbiksXG4gICAgdW5hdXRob3JpemVkOiAoKSA9PiByZXMuc2VuZCg0MDEsIFdST05HX1RPS0VOX0VSUk9SKSxcbn0pO1xuXG4vLyBQbGVhc2Ugb3BlbiBhIHB1bGwgcmVxdWVzdCBpZiB5b3Ugd2FudCB0byBhZGQgYW5vdGhlciBhZGFwdGVyXG5leHBvcnQgY29uc3QgYWRhcHRlcnMgPSB7XG4gICAgXCJhd3MtbGFtYmRhXCI6IGF3c0xhbWJkYSxcbiAgICBcImF3cy1sYW1iZGEtYXN5bmNcIjogYXdzTGFtYmRhQXN5bmMsXG4gICAgYXp1cmUsXG4gICAgYnVuLFxuICAgIGNsb3VkZmxhcmUsXG4gICAgXCJjbG91ZGZsYXJlLW1vZFwiOiBjbG91ZGZsYXJlTW9kdWxlLFxuICAgIGV4cHJlc3MsXG4gICAgZmFzdGlmeSxcbiAgICBob25vLFxuICAgIGh0dHAsXG4gICAgaHR0cHM6IGh0dHAsXG4gICAga29hLFxuICAgIFwibmV4dC1qc1wiOiBuZXh0SnMsXG4gICAgbmh0dHAsXG4gICAgb2FrLFxuICAgIHNlcnZlSHR0cCxcbiAgICBcInN0ZC9odHRwXCI6IHN0ZEh0dHAsXG4gICAgc3ZlbHRla2l0LFxuICAgIHdvcmt0b3AsXG59O1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sZ0JBQWdCO0FBQ3RCLE1BQU0sMEJBQTBCLGNBQWMsV0FBVztBQUN6RCxNQUFNLG9CQUFvQjtBQUUxQixNQUFNLEtBQUssSUFBTSxJQUFJLFNBQVMsSUFBSSxFQUFFO1FBQUUsUUFBUTtJQUFJO0FBQ2xELE1BQU0sU0FBUyxDQUFDLE9BQ1osSUFBSSxTQUFTLE1BQU07UUFDZixRQUFRO1FBQ1IsU0FBUztZQUFFLGdCQUFnQjtRQUFtQjtJQUNsRDtBQUNKLE1BQU0sZUFBZSxJQUNqQixJQUFJLFNBQVMsa0JBQWtCO1FBQzNCLFFBQVE7UUFDUixZQUFZO0lBQ2hCO0FBbU9KLG9DQUFvQyxHQUNwQyxNQUFNLFlBQTJCLENBQUMsT0FBTyxVQUFVLFdBQWEsQ0FBQztRQUM3RCxRQUFRLEtBQUssS0FBSyxDQUFDLE1BQU0sSUFBSSxJQUFJO1FBQ2pDLFFBQVEsTUFBTSxPQUFPLENBQUMsY0FBYztRQUNwQyxLQUFLLElBQU0sU0FBUyxJQUFJLEVBQUU7Z0JBQUUsWUFBWTtZQUFJO1FBQzVDLFNBQVMsQ0FBQyxPQUNOLFNBQVMsSUFBSSxFQUFFO2dCQUNYLFlBQVk7Z0JBQ1osU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5QyxNQUFNO1lBQ1Y7UUFDSixjQUFjLElBQU0sU0FBUyxJQUFJLEVBQUU7Z0JBQUUsWUFBWTtZQUFJO0lBQ3pELENBQUM7QUFFRCxnREFBZ0QsR0FDaEQsTUFBTSxpQkFBcUMsQ0FBQyxPQUFPLFdBQWE7SUFDNUQsbUNBQW1DO0lBQ25DLElBQUk7SUFFSixPQUFPO1FBQ0gsUUFBUSxLQUFLLEtBQUssQ0FBQyxNQUFNLElBQUksSUFBSTtRQUNqQyxRQUFRLE1BQU0sT0FBTyxDQUFDLGNBQWM7UUFDcEMsS0FBSyxJQUFNLGdCQUFnQjtnQkFBRSxZQUFZO1lBQUk7UUFDN0MsU0FBUyxDQUFDLE9BQ04sZ0JBQWdCO2dCQUNaLFlBQVk7Z0JBQ1osU0FBUztvQkFBRSxnQkFBZ0I7Z0JBQW1CO2dCQUM5QyxNQUFNO1lBQ1Y7UUFDSixjQUFjLElBQU0sZ0JBQWdCO2dCQUFFLFlBQVk7WUFBSTtRQUN0RCxlQUFlLElBQUksUUFBUSxDQUFDLFVBQVk7WUFDcEMsa0JBQWtCO1FBQ3RCO0lBQ0o7QUFDSjtBQUVBLG9CQUFvQixHQUNwQixNQUFNLFFBQXNCLENBQUMsU0FBUyxVQUFZLENBQUM7UUFDL0MsUUFBUSxRQUFRLE9BQU8sQ0FBQyxRQUFRLElBQUk7UUFDcEMsUUFBUSxRQUFRLEdBQUcsRUFBRSxTQUFTLENBQUMsY0FBYztRQUM3QyxLQUFLLElBQU8sUUFBUSxHQUFHLEdBQUc7Z0JBQ3RCLFFBQVE7Z0JBQ1IsTUFBTTtZQUNWO1FBQ0EsU0FBUyxDQUFDLE9BQVM7WUFDZixRQUFRLEdBQUcsRUFBRSxNQUFNLGdCQUFnQjtZQUNuQyxRQUFRLEdBQUcsRUFBRSxPQUFPO1FBQ3hCO1FBQ0EsY0FBYyxJQUFNO1lBQ2hCLFFBQVEsR0FBRyxFQUFFLE9BQU8sS0FBSztRQUM3QjtJQUNKLENBQUM7QUFFRCxjQUFjLEdBQ2QsTUFBTSxNQUFrQixDQUFDLFVBQVk7SUFDakMsSUFBSTtJQUNKLE9BQU87UUFDSCxRQUFRLFFBQVEsSUFBSTtRQUNwQixRQUFRLFFBQVEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7UUFDOUMsS0FBSyxJQUFNO1lBQ1AsZ0JBQWdCO1FBQ3BCO1FBQ0EsU0FBUyxDQUFDLE9BQVM7WUFDZixnQkFBZ0IsT0FBTztRQUMzQjtRQUNBLGNBQWMsSUFBTTtZQUNoQixnQkFBZ0I7UUFDcEI7SUFDSjtBQUNKO0FBRUEsK0NBQStDLEdBQy9DLE1BQU0sYUFBZ0MsQ0FBQyxRQUFVO0lBQzdDLElBQUk7SUFDSixNQUFNLFdBQVcsQ0FDYixJQUFJLFFBQWtCLENBQUMsVUFBWTtRQUMvQixrQkFBa0I7SUFDdEI7SUFFSixPQUFPO1FBQ0gsUUFBUSxNQUFNLE9BQU8sQ0FBQyxJQUFJO1FBQzFCLFFBQVEsTUFBTSxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7UUFDcEQsS0FBSyxJQUFNO1lBQ1AsZ0JBQWdCO1FBQ3BCO1FBQ0EsU0FBUyxDQUFDLE9BQVM7WUFDZixnQkFBZ0IsT0FBTztRQUMzQjtRQUNBLGNBQWMsSUFBTTtZQUNoQixnQkFBZ0I7UUFDcEI7SUFDSjtBQUNKO0FBRUEsOENBQThDLEdBQzlDLE1BQU0sbUJBQTRDLENBQUMsVUFBWTtJQUMzRCxJQUFJO0lBQ0osT0FBTztRQUNILFFBQVEsUUFBUSxJQUFJO1FBQ3BCLFFBQVEsUUFBUSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtRQUM5QyxLQUFLLElBQU07WUFDUCxnQkFBZ0I7UUFDcEI7UUFDQSxTQUFTLENBQUMsT0FBUztZQUNmLGdCQUFnQixPQUFPO1FBQzNCO1FBQ0EsY0FBYyxJQUFNO1lBQ2hCLGdCQUFnQjtRQUNwQjtRQUNBLGVBQWUsSUFBSSxRQUFrQixDQUFDLFVBQVk7WUFDOUMsa0JBQWtCO1FBQ3RCO0lBQ0o7QUFDSjtBQUVBLDBCQUEwQixHQUMxQixNQUFNLFVBQTBCLENBQUMsS0FBSyxNQUFRLENBQUM7UUFDM0MsUUFBUSxRQUFRLE9BQU8sQ0FBQyxJQUFJLElBQUk7UUFDaEMsUUFBUSxJQUFJLE1BQU0sQ0FBQztRQUNuQixLQUFLLElBQU0sSUFBSSxHQUFHO1FBQ2xCLFNBQVMsQ0FBQyxPQUFTO1lBQ2YsSUFBSSxHQUFHLENBQUMsZ0JBQWdCO1lBQ3hCLElBQUksSUFBSSxDQUFDO1FBQ2I7UUFDQSxjQUFjLElBQU07WUFDaEIsSUFBSSxNQUFNLENBQUMsS0FBSyxJQUFJLENBQUM7UUFDekI7SUFDSixDQUFDO0FBRUQsMEJBQTBCLEdBQzFCLE1BQU0sVUFBMEIsQ0FBQyxTQUFTLFFBQVUsQ0FBQztRQUNqRCxRQUFRLFFBQVEsT0FBTyxDQUFDLFFBQVEsSUFBSTtRQUNwQyxRQUFRLFFBQVEsT0FBTyxDQUFDLHdCQUF3QjtRQUNoRCxLQUFLLElBQU0sTUFBTSxNQUFNLENBQUMsS0FBSyxJQUFJO1FBQ2pDLFNBQVMsQ0FBQyxPQUNOLE1BQU0sT0FBTyxDQUFDO2dCQUFFLGdCQUFnQjtZQUFtQixHQUFHLElBQUksQ0FBQztRQUMvRCxjQUFjLElBQU0sTUFBTSxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUM7SUFDN0MsQ0FBQztBQUVELHVCQUF1QixHQUN2QixNQUFNLE9BQW9CLENBQUMsSUFBTTtJQUM3QixJQUFJO0lBQ0osT0FBTztRQUNILFFBQVEsRUFBRSxHQUFHLENBQUMsSUFBSTtRQUNsQixRQUFRLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUNyQixLQUFLLElBQU07WUFDUCxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsSUFBSTtRQUMvQjtRQUNBLFNBQVMsQ0FBQyxPQUFTO1lBQ2YsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDO1FBQzNCO1FBQ0EsY0FBYyxJQUFNO1lBQ2hCLEVBQUUsTUFBTSxDQUFDO1lBQ1QsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLElBQUk7UUFDL0I7UUFDQSxlQUFlLElBQUksUUFBa0IsQ0FBQyxVQUFZO1lBQzlDLGtCQUFrQjtRQUN0QjtJQUNKO0FBQ0o7QUFFQSw4Q0FBOEMsR0FDOUMsTUFBTSxPQUFvQixDQUFDLEtBQUssTUFBUTtJQUNwQyxNQUFNLDBCQUEwQixJQUFJLE9BQU8sQ0FBQyx3QkFBd0I7SUFDcEUsT0FBTztRQUNILFFBQVEsSUFBSSxRQUFRLENBQUMsU0FBUyxTQUFXO1lBR3JDLE1BQU0sU0FBa0IsRUFBRTtZQUMxQixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBaUIsT0FBTyxJQUFJLENBQUMsUUFDeEMsSUFBSSxDQUFDLE9BQU8sSUFBTTtnQkFDZixtQ0FBbUM7Z0JBQ25DLE1BQU0sTUFBTSxPQUFPLE1BQU0sQ0FBQyxRQUFRLFFBQVEsQ0FBQztnQkFDM0MsUUFBUSxLQUFLLEtBQUssQ0FBQztZQUN2QixHQUNDLElBQUksQ0FBQyxTQUFTO1FBQ3ZCO1FBQ0EsUUFBUSxNQUFNLE9BQU8sQ0FBQywyQkFDaEIsdUJBQXVCLENBQUMsRUFBRSxHQUMxQix1QkFBdUI7UUFDN0IsS0FBSyxJQUFNLElBQUksR0FBRztRQUNsQixTQUFTLENBQUMsT0FDTixJQUNLLFNBQVMsQ0FBQyxLQUFLO2dCQUFFLGdCQUFnQjtZQUFtQixHQUNwRCxHQUFHLENBQUM7UUFDYixjQUFjLElBQU0sSUFBSSxTQUFTLENBQUMsS0FBSyxHQUFHLENBQUM7SUFDL0M7QUFDSjtBQUVBLHNCQUFzQixHQUN0QixNQUFNLE1BQWtCLENBQUMsTUFBUSxDQUFDO1FBQzlCLFFBQVEsUUFBUSxPQUFPLENBQUMsSUFBSSxPQUFPLENBQUMsSUFBSTtRQUN4QyxRQUFRLElBQUksR0FBRyxDQUFDLGtCQUFrQjtRQUNsQyxLQUFLLElBQU07WUFDUCxJQUFJLElBQUksR0FBRztRQUNmO1FBQ0EsU0FBUyxDQUFDLE9BQVM7WUFDZixJQUFJLEdBQUcsQ0FBQyxnQkFBZ0I7WUFDeEIsSUFBSSxRQUFRLENBQUMsSUFBSSxHQUFHO1FBQ3hCO1FBQ0EsY0FBYyxJQUFNO1lBQ2hCLElBQUksTUFBTSxHQUFHO1FBQ2pCO0lBQ0osQ0FBQztBQUVELGlDQUFpQyxHQUNqQyxNQUFNLFNBQXNCLENBQUMsU0FBUyxXQUFhLENBQUM7UUFDaEQsUUFBUSxRQUFRLE9BQU8sQ0FBQyxRQUFRLElBQUk7UUFDcEMsUUFBUSxRQUFRLE9BQU8sQ0FBQyx3QkFBd0I7UUFDaEQsS0FBSyxJQUFNLFNBQVMsR0FBRztRQUN2QixTQUFTLENBQUMsT0FBUyxTQUFTLE1BQU0sQ0FBQyxLQUFLLElBQUksQ0FBQztRQUM3QyxjQUFjLElBQU0sU0FBUyxNQUFNLENBQUMsS0FBSyxJQUFJLENBQUM7SUFDbEQsQ0FBQztBQUVELHdCQUF3QixHQUN4QixNQUFNLFFBQXNCLENBQUMsTUFBUSxDQUFDO1FBQ2xDLFFBQVEsUUFBUSxPQUFPLENBQUMsSUFBSSxJQUFJO1FBQ2hDLFFBQVEsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtRQUMxQyxLQUFLLElBQU0sSUFBSSxRQUFRLENBQUMsVUFBVSxDQUFDO1FBQ25DLFNBQVMsQ0FBQyxPQUFTLElBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksQ0FBQztRQUNqRCxjQUFjLElBQU0sSUFBSSxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssSUFBSSxDQUFDO0lBQ3RELENBQUM7QUFFRCxzQkFBc0IsR0FDdEIsTUFBTSxNQUFrQixDQUFDLE1BQVEsQ0FBQztRQUM5QixRQUFRLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJO1FBQzdCLFFBQVEsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7UUFDbEQsS0FBSyxJQUFNO1lBQ1AsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHO1FBQzFCO1FBQ0EsU0FBUyxDQUFDLE9BQVM7WUFDZixJQUFJLFFBQVEsQ0FBQyxJQUFJLEdBQUc7WUFDcEIsSUFBSSxRQUFRLENBQUMsSUFBSSxHQUFHO1FBQ3hCO1FBQ0EsY0FBYyxJQUFNO1lBQ2hCLElBQUksUUFBUSxDQUFDLE1BQU0sR0FBRztRQUMxQjtJQUNKLENBQUM7QUFFRCxlQUFlLEdBQ2YsTUFBTSxZQUE4QixDQUFDLGVBQWlCLENBQUM7UUFDbkQsUUFBUSxhQUFhLE9BQU8sQ0FBQyxJQUFJO1FBQ2pDLFFBQVEsYUFBYSxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7UUFDM0QsS0FBSyxJQUFNLGFBQWEsV0FBVyxDQUFDO1FBQ3BDLFNBQVMsQ0FBQyxPQUFTLGFBQWEsV0FBVyxDQUFDLE9BQU87UUFDbkQsY0FBYyxJQUFNLGFBQWEsV0FBVyxDQUFDO0lBQ2pELENBQUM7QUFFRCx3QkFBd0IsR0FDeEIsTUFBTSxVQUEwQixDQUFDLE1BQVE7SUFDckMsSUFBSTtJQUNKLE9BQU87UUFDSCxRQUFRLElBQUksSUFBSTtRQUNoQixRQUFRLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7UUFDMUMsS0FBSyxJQUFNO1lBQ1AsSUFBSSxpQkFBaUIsZ0JBQWdCO1FBQ3pDO1FBQ0EsU0FBUyxDQUFDLE9BQVM7WUFDZixJQUFJLGlCQUFpQixnQkFBZ0IsT0FBTztRQUNoRDtRQUNBLGNBQWMsSUFBTTtZQUNoQixJQUFJLGlCQUFpQixnQkFBZ0I7UUFDekM7UUFDQSxlQUFlLElBQUksUUFBUSxDQUFDLFVBQVk7WUFDcEMsa0JBQWtCO1FBQ3RCO0lBQ0o7QUFDSjtBQUVBLG1DQUFtQyxHQUNuQyxNQUFNLFlBQThCLENBQUMsRUFBRSxRQUFPLEVBQUUsR0FBSztJQUNqRCxJQUFJO0lBQ0osT0FBTztRQUNILFFBQVEsUUFBUSxPQUFPLENBQUMsUUFBUSxJQUFJO1FBQ3BDLFFBQVEsUUFBUSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtRQUM5QyxLQUFLLElBQU07WUFDUCxJQUFJLGlCQUFpQixnQkFBZ0I7UUFDekM7UUFDQSxTQUFTLENBQUMsT0FBUztZQUNmLElBQUksaUJBQWlCLGdCQUFnQixPQUFPO1FBQ2hEO1FBQ0EsY0FBYyxJQUFNO1lBQ2hCLElBQUksaUJBQWlCLGdCQUFnQjtRQUN6QztRQUNBLGVBQWUsSUFBSSxRQUFRLENBQUMsVUFBWTtZQUNwQyxrQkFBa0I7UUFDdEI7SUFDSjtBQUNKO0FBQ0EseUNBQXlDLEdBQ3pDLE1BQU0sVUFBMEIsQ0FBQyxLQUFLLE1BQVEsQ0FBQztRQUMzQyxRQUFRLFFBQVEsT0FBTyxDQUFDLElBQUksSUFBSTtRQUNoQyxRQUFRLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7UUFDMUMsS0FBSyxJQUFNLElBQUksR0FBRyxDQUFDLElBQUk7UUFDdkIsU0FBUyxDQUFDLE9BQVMsSUFBSSxJQUFJLENBQUMsS0FBSztRQUNqQyxjQUFjLElBQU0sSUFBSSxJQUFJLENBQUMsS0FBSztJQUN0QyxDQUFDO0FBRUQsZ0VBQWdFO0FBQ2hFLE9BQU8sTUFBTSxXQUFXO0lBQ3BCLGNBQWM7SUFDZCxvQkFBb0I7SUFDcEI7SUFDQTtJQUNBO0lBQ0Esa0JBQWtCO0lBQ2xCO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsT0FBTztJQUNQO0lBQ0EsV0FBVztJQUNYO0lBQ0E7SUFDQTtJQUNBLFlBQVk7SUFDWjtJQUNBO0FBQ0osRUFBRSJ9